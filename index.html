<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4567620933790706" crossorigin="anonymous"></script>
<link rel="icon" type="image/svg+xml" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="deepskyblue" d="M16 2C10 13 4 18 4 22a12 12 0 0024 0c0-4-6-9-12-20z"/><ellipse cx="16" cy="22" rx="7" ry="7" fill="white" fill-opacity="0.5"/></svg>'>
<title>Sprinkler Runtime Calculator</title>
<link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div id="container">
  <h1 id="pageTop">Sprinkler Runtime Calculator</h1>
  <br/>
  <p class="description">
    Calculate the runtime for your sprinkler zones based on NOAA GFS weather forecast data.<br/>
    <br/>
    The runtime formula uses variables:
    <br/><br/>
    <code>W</code> = watering frequency in days
    <br/>
    <code>ET</code> = weekly evapotranspiration in inches for your location
    <br/>
    <code>R</code> = weekly total rainfall in inches for your location
    <br/>
    <code>Rate</code> = minutes to irrigate 1" of water for your sprinklers
    <br/><br/>
    Optional: Enter your own variable values and/or runtime formula below using variables <code>W</code>, <code>ET</code>, <code>R</code>, and <code>Rate</code>. The default values and formula calculate sprinkler runtime for watering every 2 days to replace 75% of rainfall-adjusted weekly ET like so: 
    <br/><br/>
    <code> (W / 7) * (ET * 0.75 - R) * Rate</code>
  </p>

  <div>
    <label>
      Location<span class="required">*</span>:
    </label>
    <span class="location-note">Enter either a U.S. ZIP code <strong>or</strong> latitude/longitude.</span>
    <label>
      ZIP Code:
      <input type="text" id="zipcode" placeholder="e.g., 98052" pattern="[0-9]{5}" maxlength="5" inputmode="numeric" autocomplete="postal-code"/>
    </label>
    <span style="display:block; margin: 0.5em 0; text-align: center; color: #888;">— or —</span>
    <label>
      Latitude:
      <input type="number" id="latitude" placeholder="Enter latitude (e.g., 47.94)" step="0.0001" />
    </label>
    <label>
      Longitude:
      <input type="number" id="longitude" placeholder="Enter longitude (e.g., -122.21)" step="0.0001" />
    </label>
    <button id="locationBtn" type="button">Use My Current Location</button>
  </div>
  <br/>
  <label>
    Enter Your Sprinkler Zones<span class="required">*</span>:
  </label>
  <br/>
  <div id="sprinklerZones">   
    <div class="labels-row">
      <div class="zone-name">Sprinkler Zone Name</div>
      <div class="zone-rate">Runtime per 1" (minutes)</div>
      <div style="width: 32px;"></div>
    </div>
    <!-- Zone rows go here -->
  </div>

  <button id="addZoneBtn" type="button">+ Add Sprinkler Zone</button>
  <br/><br/>
  <label>
    Optional:
  </label>
  <br/>
  <label>
    Watering Frequency (every X days):
    <input type="number" id="wateringFrequency" placeholder="Default: 2 (water every 2 days)" min="1" />
  </label>

  <label>
    ET Replacement Percentage (%):
    <input type="number" id="etReplacement" placeholder="Default: 75 for 75%" min="0" max="100" />
  </label>

  <label>
    Runtime Formula Override:
    <input type="text" id="formulaInput" placeholder="Default: (W / 7) * (ET * 0.75 - R) * Rate" />
  </label>
  <br/><br/>
  <button id="calculateBtn" type="button">Calculate Runtime</button>
  <button id="resetBtn" type="button">Reset All</button>

  <div id="results" style="display:none;"></div>
</div>
<footer>
    <p>
      <a href="/pages/privacy.html">Privacy Policy</a> | 
      <a href="/pages/about.html">About</a>
    </p>
    <p>Contact: <a href="mailto:b.monticello23@gmail.com">b.monticello23@gmail.com</a></p>
    <p>&copy; 2025 Sprinkler Runtime Calculator</p>
  </footer>
<script src="js/script.js"></script>
</body>
</html>
