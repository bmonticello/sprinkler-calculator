<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4567620933790706" crossorigin="anonymous"></script>
<link rel="icon" type="image/svg+xml" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="deepskyblue" d="M16 2C10 13 4 18 4 22a12 12 0 0024 0c0-4-6-9-12-20z"/><ellipse cx="16" cy="22" rx="7" ry="7" fill="white" fill-opacity="0.5"/></svg>'>
<title>Sprinkler Runtime Calculator</title>
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/header.css">
</head>
<body>
<div id="container">
  <!-- Site navigation header -->
  <header class="site-header" role="banner">
    <div class="header-inner">
      <a class="brand" href="/" aria-label="Sprinkler Calculator Home">
        <span class="brand-logo" aria-hidden="true">
          <!-- Water droplet + leaf logo -->
          <svg width="28" height="28" viewBox="0 0 32 32" fill="none" aria-hidden="true">
            <defs>
              <linearGradient id="g1" x1="0" y1="0" x2="32" y2="32" gradientUnits="userSpaceOnUse">
                <stop offset="0" stop-color="#25A6F7"/>
                <stop offset="1" stop-color="#0AC2A5"/>
              </linearGradient>
            </defs>
            <path d="M16 2C10 13 4 18 4 22a12 12 0 0024 0c0-4-6-9-12-20z" fill="url(#g1)"/>
            <path d="M11.5 22c3 .5 6.5-.5 9-3.5" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </span>
        <span class="brand-text">Sprinkler Runtime Calculator</span>
      </a>

      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav">
        <span class="sr-only">Open menu</span>
        <svg class="icon icon-menu" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <svg class="icon icon-close" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>

      <nav id="primary-nav" class="primary-nav" aria-label="Primary">
        <ul>
          <li><a href="/pages/research.html">How It Works</a></li>
          <li><a href="/pages/about.html">About</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <div id="navOverlay" class="nav-overlay" hidden></div>
  
  <h1 id="pageTop">Sprinkler Runtime Calculator</h1>
  <br/>
  <p class="description">
    Calculate the runtime for your sprinkler zones based on NOAA GFS weather forecast data.<br/>
    <br/>
    The runtime formula uses variables:
    <br/><br/>
    <code>W</code> = watering frequency in days
    <br/>
    <code>ET</code> = weekly evapotranspiration in inches for your location
    <br/>
    <code>R</code> = weekly total rainfall in inches for your location
    <br/>
    <code>Rate</code> = minutes to irrigate 1" of water for your sprinklers
    <br/><br/>
    Optional: Enter your own variable values and/or runtime formula below using variables <code>W</code>, <code>ET</code>, <code>R</code>, and <code>Rate</code>. The default values and formula calculate sprinkler runtime for watering every 2 days to replace 75% of rainfall-adjusted weekly ET like so: 
    <br/><br/>
    <code> (W / 7) * (ET * 0.75 - R) * Rate</code>
  </p>

  <div>
    <label>
      Location<span class="required">*</span>:
    </label>
    <span class="location-note">Enter either a U.S. ZIP code <strong>or</strong> latitude/longitude.</span>
    <label>
      ZIP Code:
      <input type="text" id="zipcode" placeholder="e.g., 98052" pattern="[0-9]{5}" maxlength="5" inputmode="numeric" autocomplete="postal-code"/>
    </label>
    <span style="display:block; margin: 0.5em 0; color: #888;">— or —</span>
    <label>
      Latitude:
      <input type="number" id="latitude" placeholder="Enter latitude (e.g., 47.94)" step="0.0001" />
    </label>
    <label>
      Longitude:
      <input type="number" id="longitude" placeholder="Enter longitude (e.g., -122.21)" step="0.0001" />
    </label>
    <button id="locationBtn" type="button">Use My Current Location</button>
  </div>
  <br/>
  <label>
    Enter Your Sprinkler Zones<span class="required">*</span>:
  </label>
  <br/>
  <div id="sprinklerZones">   
    <div class="labels-row">
      <div class="zone-name">Sprinkler Zone Name</div>
      <div class="zone-rate">Runtime per 1" (minutes)</div>
      <div style="width: 32px;"></div>
    </div>
    <!-- Zone rows go here -->
  </div>

  <button id="addZoneBtn" type="button">+ Add Sprinkler Zone</button>
  <br/><br/>
  <label>
    Optional:
  </label>
  <br/>
  <label>
    Watering Frequency (every X days):
    <input type="number" id="wateringFrequency" placeholder="Default: 2 (water every 2 days)" min="1" />
  </label>

  <label>
    ET Replacement Percentage (%):
    <input type="number" id="etReplacement" placeholder="Default: 75 for 75%" min="0" max="100" />
  </label>

  <label>
    Runtime Formula Override:
    <input type="text" id="formulaInput" placeholder="Default: (W / 7) * (ET * 0.75 - R) * Rate" />
  </label>
  <br/><br/>
  <button id="calculateBtn" type="button">Calculate Runtime</button>
  <button id="resetBtn" type="button">Reset All</button>

  <div id="results" style="display:none;"></div>
  <br /><br /><br /> 
  <footer>
    <p>
      <a href="/pages/privacy.html">Privacy Policy</a>
    </p>
    <p>Contact: <a href="mailto:sprinklerruntimecalculator@gmail.com">sprinklerruntimecalculator@gmail.com</a></p>
    <p>&copy; <span id="copyrightYear"></span> Sprinkler Runtime Calculator</p>
  </footer>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var el = document.getElementById('copyrightYear');
    if (el) el.textContent = new Date().getFullYear();
  });
</script>
<script src="js/script.js"></script>  
<script src="js/header.js"></script>
</body>
</html>
